local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = game:GetService("Players").LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local CoreGui = game:GetService("CoreGui")
local viewport = workspace.CurrentCamera.ViewportSize

if not isfolder("Chloe X") then
	makefolder("Chloe X")
end

local gameFolder = nil
local AutoloadFile = nil

ConfigData = {}
Elements = {}
CURRENT_VERSION = nil

function GetConfigList()
	local configs = {}
	if isfolder and listfiles and gameFolder then
		local files = listfiles(gameFolder)
		for _, filepath in pairs(files) do
			local filename = filepath:match("([^/\\]+)%.json$")
			if filename then
				table.insert(configs, filename)
			end
		end
	end
	return configs
end

function GetAutoload()
	if isfile and AutoloadFile and isfile(AutoloadFile) then
		local success, content = pcall(function()
			return readfile(AutoloadFile)
		end)
		if success and content and content ~= "" then
			return content:match("^%s*(.-)%s*$")
		end
	end
	return nil
end

function SetAutoload(configName)
	if writefile and AutoloadFile then
		writefile(AutoloadFile, configName)
	end
end

function ClearAutoload()
	if delfile and AutoloadFile and isfile(AutoloadFile) then
		delfile(AutoloadFile)
	end
end

function SaveConfigAs(configName)
	if not configName or configName == "" then
		return false
	end
	if writefile and gameFolder then
		local filepath = gameFolder .. "/" .. configName .. ".json"
		ConfigData._version = CURRENT_VERSION
		writefile(filepath, HttpService:JSONEncode(ConfigData))
		CurrentConfigName = configName
		return true
	end
	return false
end

function LoadConfig(configName)
	if not configName or configName == "" then
		return false
	end
	local filepath = gameFolder .. "/" .. configName .. ".json"
	if not CURRENT_VERSION then
		return false
	end
	if isfile and isfile(filepath) then
		local success, result = pcall(function()
			return HttpService:JSONDecode(readfile(filepath))
		end)
		if success and type(result) == "table" then
			if result._version == CURRENT_VERSION then
				ConfigData = result
				CurrentConfigName = configName
				LoadConfigElements()
				return true
			end
		end
	end
	return false
end

function DeleteConfig(configName)
	if not configName or configName == "" then
		return false
	end
	local filepath = gameFolder .. "/" .. configName .. ".json"
	if delfile and isfile(filepath) then
		delfile(filepath)
		if GetAutoload() == configName then
			ClearAutoload()
		end
		return true
	end
	return false
end

function LoadConfigElements()
	for key, element in pairs(Elements) do
		if ConfigData[key] ~= nil and element.Set then
			element:Set(ConfigData[key], true)
		end
	end
end

function ResetElements()
	ConfigData = { _version = CURRENT_VERSION }
	for key, element in pairs(Elements) do
		if element.Set then
			pcall(function()
				if key:match("^Toggle_") then
					element:Set(false)
				elseif key:match("^Slider_") then
					element:Set(20)
				elseif key:match("^Input_") then
					element:Set("")
				elseif key:match("^Dropdown_") then
					if type(element.Value) == "table" then
						element:Set({})
					else
						element:Set(nil)
					end
				end
			end)
		end
	end
end

function LoadExternalConfigFromJSON(jsonString)
	if not jsonString or jsonString == "" then
		return false
	end
	local ok, data = pcall(function()
		return HttpService:JSONDecode(jsonString)
	end)
	if not ok or type(data) ~= "table" then
		return false
	end
	if data._version and CURRENT_VERSION and data._version ~= CURRENT_VERSION then
		return false
	end
	ConfigData = data
	for key, element in pairs(Elements) do
		if data[key] ~= nil and element.Set then
			pcall(function()
				element:Set(data[key], true)
			end)
		end
	end
	return true
end

local Icons = {
	player = "rbxassetid://12120698352",
	web = "rbxassetid://137601480983962",
	bag = "rbxassetid://8601111810",
	shop = "rbxassetid://4985385964",
	cart = "rbxassetid://128874923961846",
	plug = "rbxassetid://137601480983962",
	settings = "rbxassetid://70386228443175",
	loop = "rbxassetid://122032243989747",
	gps = "rbxassetid://17824309485",
	compas = "rbxassetid://125300760963399",
	gamepad = "rbxassetid://84173963561612",
	boss = "rbxassetid://13132186360",
	scroll = "rbxassetid://114127804740858",
	menu = "rbxassetid://6340513838",
	crosshair = "rbxassetid://12614416478",
	user = "rbxassetid://108483430622128",
	stat = "rbxassetid://12094445329",
	eyes = "rbxassetid://14321059114",
	sword = "rbxassetid://82472368671405",
	discord = "rbxassetid://94434236999817",
	star = "rbxassetid://107005941750079",
	skeleton = "rbxassetid://17313330026",
	payment = "rbxassetid://18747025078",
	scan = "rbxassetid://109869955247116",
	alert = "rbxassetid://73186275216515",
	question = "rbxassetid://17510196486",
	idea = "rbxassetid://16833255748",
	strom = "rbxassetid://13321880293",
	water = "rbxassetid://100076212630732",
	dcs = "rbxassetid://15310731934",
	start = "rbxassetid://108886429866687",
	next = "rbxassetid://12662718374",
	rod = "rbxassetid://103247953194129",
	fish = "rbxassetid://97167558235554",
}

local function isMobileDevice()
	return UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled and not UserInputService.MouseEnabled
end

local isMobile = isMobileDevice()

local function MakeDraggable(dragFrame, mainFrame)
	local dragging, dragInput, dragStart, startPos

	local function update(input)
		local delta = input.Position - dragStart
		local pos = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		TweenService:Create(mainFrame, TweenInfo.new(0.08), { Position = pos }):Play()
	end

	dragFrame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = mainFrame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	dragFrame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end
	end)
end

local function chloex(msg, delay, color, title, desc)
	task.spawn(function()
		if not CoreGui:FindFirstChild("NativeNotifyGui") then
			local g = Instance.new("ScreenGui")
			g.Name = "NativeNotifyGui"
			g.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
			g.Parent = CoreGui

			local holder = Instance.new("Frame")
			holder.Name = "Holder"
			holder.AnchorPoint = Vector2.new(1, 1)
			holder.Position = UDim2.new(1, -20, 1, -20)
			holder.Size = UDim2.new(0, 280, 1, 0)
			holder.BackgroundTransparency = 1
			holder.Parent = g

			local layout = Instance.new("UIListLayout")
			layout.VerticalAlignment = Enum.VerticalAlignment.Bottom
			layout.Padding = UDim.new(0, 8)
			layout.SortOrder = Enum.SortOrder.LayoutOrder
			layout.Parent = holder
		end

		local holder = CoreGui.NativeNotifyGui.Holder

		local notif = Instance.new("Frame")
		notif.Size = UDim2.new(1, 0, 0, 50)
		notif.BackgroundColor3 = Color3.fromRGB(20, 20, 22)
		notif.BorderSizePixel = 0
		notif.ClipsDescendants = true
		notif.Parent = holder
		Instance.new("UICorner", notif).CornerRadius = UDim.new(0, 6)

		local stroke = Instance.new("UIStroke")
		stroke.Color = Color3.fromRGB(50, 50, 50)
		stroke.Thickness = 1
		stroke.Parent = notif

		local accent = Instance.new("Frame")
		accent.Size = UDim2.new(0, 3, 1, 0)
		accent.BackgroundColor3 = color or Color3.fromRGB(200, 60, 60)
		accent.BorderSizePixel = 0
		accent.Parent = notif

		local t = Instance.new("TextLabel")
		t.Font = Enum.Font.GothamBold
		t.Text = title or "Native"
		t.TextSize = 12
		t.TextColor3 = Color3.fromRGB(200, 200, 200)
		t.TextXAlignment = Enum.TextXAlignment.Left
		t.BackgroundTransparency = 1
		t.Position = UDim2.new(0, 14, 0, 8)
		t.Size = UDim2.new(1, -20, 0, 14)
		t.Parent = notif

		local c = Instance.new("TextLabel")
		c.Font = Enum.Font.Gotham
		c.Text = msg or ""
		c.TextSize = 11
		c.TextColor3 = Color3.fromRGB(140, 140, 140)
		c.TextXAlignment = Enum.TextXAlignment.Left
		c.TextWrapped = true
		c.BackgroundTransparency = 1
		c.Position = UDim2.new(0, 14, 0, 26)
		c.Size = UDim2.new(1, -20, 0, 18)
		c.Parent = notif

		notif.BackgroundTransparency = 1
		t.TextTransparency = 1
		c.TextTransparency = 1
		accent.BackgroundTransparency = 1

		TweenService:Create(notif, TweenInfo.new(0.25), { BackgroundTransparency = 0 }):Play()
		TweenService:Create(t, TweenInfo.new(0.25), { TextTransparency = 0 }):Play()
		TweenService:Create(c, TweenInfo.new(0.25), { TextTransparency = 0 }):Play()
		TweenService:Create(accent, TweenInfo.new(0.25), { BackgroundTransparency = 0 }):Play()

		task.wait(delay or 3)

		TweenService:Create(notif, TweenInfo.new(0.3), { BackgroundTransparency = 1 }):Play()
		TweenService:Create(t, TweenInfo.new(0.3), { TextTransparency = 1 }):Play()
		TweenService:Create(c, TweenInfo.new(0.3), { TextTransparency = 1 }):Play()
		TweenService:Create(accent, TweenInfo.new(0.3), { BackgroundTransparency = 1 }):Play()
		task.wait(0.35)
		notif:Destroy()
	end)
end

local Chloex = {}

function Chloex:MakeNotify(cfg)
	cfg = cfg or {}
	chloex(cfg.Content or cfg.Description or "Notification", cfg.Delay or 4, cfg.Color, cfg.Title)
end

function Chloex:Window(GuiConfig)
	GuiConfig = GuiConfig or {}
	GuiConfig.Title = GuiConfig.Title or "Native"
	GuiConfig.Footer = GuiConfig.Footer or ""
	GuiConfig.Color = GuiConfig.Color or Color3.fromRGB(200, 60, 60)
	GuiConfig["Tab Width"] = GuiConfig["Tab Width"] or 160
	GuiConfig.Version = GuiConfig.Version or 1

	local folderName = GuiConfig.Folder or GuiConfig.Title:gsub("[^%w_ ]", ""):gsub("%s+", "_")
	gameFolder = "Chloe X/" .. folderName
	AutoloadFile = gameFolder .. "/autoload.txt"

	if not isfolder(gameFolder) then
		makefolder(gameFolder)
	end

	CURRENT_VERSION = GuiConfig.Version

	local autoloadName = GetAutoload()
	if autoloadName then
		LoadConfig(autoloadName)
	else
		ConfigData = { _version = CURRENT_VERSION }
	end

	local GuiFunc = {}
	local TabWidth = GuiConfig["Tab Width"]
	local AccentColor = GuiConfig.Color
	local MainWidth = isMobile and 480 or 620
	local MainHeight = isMobile and 320 or 420

	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "NativeUI"
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	ScreenGui.ResetOnSpawn = false
	ScreenGui.Parent = CoreGui

	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "Main"
	MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	MainFrame.Size = UDim2.new(0, MainWidth, 0, MainHeight)
	MainFrame.BackgroundColor3 = Color3.fromRGB(18, 18, 20)
	MainFrame.BorderSizePixel = 0
	MainFrame.ClipsDescendants = true
	MainFrame.Parent = ScreenGui
	Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)

	local MainStroke = Instance.new("UIStroke")
	MainStroke.Color = Color3.fromRGB(40, 40, 42)
	MainStroke.Thickness = 1
	MainStroke.Parent = MainFrame

	local TopBar = Instance.new("Frame")
	TopBar.Name = "TopBar"
	TopBar.Size = UDim2.new(1, 0, 0, 0)
	TopBar.BackgroundTransparency = 1
	TopBar.Parent = MainFrame

	MakeDraggable(MainFrame, MainFrame)

	local Sidebar = Instance.new("Frame")
	Sidebar.Name = "Sidebar"
	Sidebar.Size = UDim2.new(0, TabWidth, 1, 0)
	Sidebar.BackgroundColor3 = Color3.fromRGB(14, 14, 16)
	Sidebar.BorderSizePixel = 0
	Sidebar.Parent = MainFrame

	local SidebarCorner = Instance.new("UICorner")
	SidebarCorner.CornerRadius = UDim.new(0, 10)
	SidebarCorner.Parent = Sidebar

	local SidebarCover = Instance.new("Frame")
	SidebarCover.Size = UDim2.new(0, 12, 1, 0)
	SidebarCover.Position = UDim2.new(1, -12, 0, 0)
	SidebarCover.BackgroundColor3 = Color3.fromRGB(14, 14, 16)
	SidebarCover.BorderSizePixel = 0
	SidebarCover.ZIndex = 2
	SidebarCover.Parent = Sidebar

	local TitleLabel = Instance.new("TextLabel")
	TitleLabel.Font = Enum.Font.GothamBold
	TitleLabel.Text = GuiConfig.Title
	TitleLabel.TextSize = 18
	TitleLabel.TextColor3 = AccentColor
	TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
	TitleLabel.BackgroundTransparency = 1
	TitleLabel.Position = UDim2.new(0, 16, 0, 16)
	TitleLabel.Size = UDim2.new(1, -20, 0, 24)
	TitleLabel.Parent = Sidebar

	if GuiConfig.Image then
		local ThemeImg = Instance.new("ImageLabel")
		ThemeImg.Size = UDim2.new(1, 0, 0, 50)
		ThemeImg.Position = UDim2.new(0, 0, 0, 10)
		ThemeImg.BackgroundTransparency = 1
		ThemeImg.Image = "rbxassetid://" .. tostring(GuiConfig.Image)
		ThemeImg.ScaleType = Enum.ScaleType.Fit
		ThemeImg.ImageTransparency = 0.3
		ThemeImg.ZIndex = 0
		ThemeImg.Parent = Sidebar
	end

	local SidebarDivider = Instance.new("Frame")
	SidebarDivider.Size = UDim2.new(1, -24, 0, 1)
	SidebarDivider.Position = UDim2.new(0, 12, 0, 50)
	SidebarDivider.BackgroundColor3 = Color3.fromRGB(40, 40, 42)
	SidebarDivider.BorderSizePixel = 0
	SidebarDivider.Parent = Sidebar

	local TabScroll = Instance.new("ScrollingFrame")
	TabScroll.Name = "TabScroll"
	TabScroll.Position = UDim2.new(0, 0, 0, 58)
	TabScroll.Size = UDim2.new(1, 0, 1, -58)
	TabScroll.BackgroundTransparency = 1
	TabScroll.ScrollBarThickness = 0
	TabScroll.ScrollBarImageTransparency = 1
	TabScroll.BorderSizePixel = 0
	TabScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
	TabScroll.Parent = Sidebar

	local TabLayout = Instance.new("UIListLayout")
	TabLayout.Padding = UDim.new(0, 2)
	TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
	TabLayout.Parent = TabScroll

	TabLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		TabScroll.CanvasSize = UDim2.new(0, 0, 0, TabLayout.AbsoluteContentSize.Y + 8)
	end)

	local ContentArea = Instance.new("Frame")
	ContentArea.Name = "Content"
	ContentArea.Position = UDim2.new(0, TabWidth + 1, 0, 0)
	ContentArea.Size = UDim2.new(1, -(TabWidth + 1), 1, 0)
	ContentArea.BackgroundTransparency = 1
	ContentArea.BorderSizePixel = 0
	ContentArea.ClipsDescendants = true
	ContentArea.Parent = MainFrame

	local PageFolder = Instance.new("Folder")
	PageFolder.Name = "Pages"
	PageFolder.Parent = ContentArea

	local PageLayout = Instance.new("UIPageLayout")
	PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
	PageLayout.TweenTime = 0.3
	PageLayout.EasingStyle = Enum.EasingStyle.Quad
	PageLayout.EasingDirection = Enum.EasingDirection.InOut
	PageLayout.Parent = PageFolder

	local Indicator = Instance.new("Frame")
	Indicator.Name = "Indicator"
	Indicator.Size = UDim2.new(0, 3, 0, 20)
	Indicator.Position = UDim2.new(0, 3, 0, 66)
	Indicator.BackgroundColor3 = AccentColor
	Indicator.BorderSizePixel = 0
	Indicator.ZIndex = 5
	Indicator.Parent = Sidebar
	Instance.new("UICorner", Indicator).CornerRadius = UDim.new(0, 2)

	local ToggleKey = Enum.KeyCode.F3
	UserInputService.InputBegan:Connect(function(input, gpe)
		if gpe then return end
		if input.KeyCode == ToggleKey then
			MainFrame.Visible = not MainFrame.Visible
		end
	end)

	function GuiFunc:DestroyGui()
		ScreenGui:Destroy()
		if CoreGui:FindFirstChild("NativeToggleBtn") then
			CoreGui.NativeToggleBtn:Destroy()
		end
	end

	function GuiFunc:ToggleUI()
		local BtnGui = Instance.new("ScreenGui")
		BtnGui.Name = "NativeToggleBtn"
		BtnGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
		BtnGui.ResetOnSpawn = false
		BtnGui.Parent = CoreGui

		local Btn = Instance.new("ImageButton")
		Btn.Size = UDim2.new(0, 36, 0, 36)
		Btn.Position = UDim2.new(0, 16, 0, 100)
		Btn.BackgroundColor3 = Color3.fromRGB(20, 20, 22)
		Btn.BorderSizePixel = 0
		Btn.AutoButtonColor = false
		Btn.Parent = BtnGui
		Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 8)

		if GuiConfig.Image then
			Btn.Image = "rbxassetid://" .. tostring(GuiConfig.Image)
			Btn.ScaleType = Enum.ScaleType.Fit
		else
			Btn.Image = ""
			local dot = Instance.new("Frame")
			dot.Size = UDim2.new(0, 8, 0, 8)
			dot.AnchorPoint = Vector2.new(0.5, 0.5)
			dot.Position = UDim2.new(0.5, 0, 0.5, 0)
			dot.BackgroundColor3 = AccentColor
			dot.BorderSizePixel = 0
			dot.Parent = Btn
			Instance.new("UICorner", dot).CornerRadius = UDim.new(1, 0)
		end

		local btnStroke = Instance.new("UIStroke")
		btnStroke.Color = Color3.fromRGB(50, 50, 50)
		btnStroke.Thickness = 1
		btnStroke.Parent = Btn

		Btn.MouseButton1Click:Connect(function()
			MainFrame.Visible = not MainFrame.Visible
		end)

		local dragging, dragStart, startPos
		Btn.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
				dragging = true
				dragStart = input.Position
				startPos = Btn.Position
				input.Changed:Connect(function()
					if input.UserInputState == Enum.UserInputState.End then
						dragging = false
					end
				end)
			end
		end)

		UserInputService.InputChanged:Connect(function(input)
			if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
				local delta = input.Position - dragStart
				Btn.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
			end
		end)
	end

	GuiFunc:ToggleUI()

	local DropdownOverlay = Instance.new("Frame")
	DropdownOverlay.Name = "DropdownOverlay"
	DropdownOverlay.Size = UDim2.new(1, 0, 1, 0)
	DropdownOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	DropdownOverlay.BackgroundTransparency = 1
	DropdownOverlay.Visible = false
	DropdownOverlay.ZIndex = 50
	DropdownOverlay.Parent = MainFrame

	local DropdownPanel = Instance.new("Frame")
	DropdownPanel.Name = "DropdownPanel"
	DropdownPanel.AnchorPoint = Vector2.new(0.5, 0.5)
	DropdownPanel.Position = UDim2.new(0.5, 0, 0.5, 0)
	DropdownPanel.Size = UDim2.new(0, 220, 0, 250)
	DropdownPanel.BackgroundColor3 = Color3.fromRGB(22, 22, 26)
	DropdownPanel.BorderSizePixel = 0
	DropdownPanel.ZIndex = 51
	DropdownPanel.Visible = false
	DropdownPanel.Parent = MainFrame
	Instance.new("UICorner", DropdownPanel).CornerRadius = UDim.new(0, 8)

	local dpStroke = Instance.new("UIStroke")
	dpStroke.Color = Color3.fromRGB(50, 50, 52)
	dpStroke.Thickness = 1
	dpStroke.Parent = DropdownPanel

	local dpTitle = Instance.new("TextLabel")
	dpTitle.Name = "DPTitle"
	dpTitle.Font = Enum.Font.GothamBold
	dpTitle.Text = "Select"
	dpTitle.TextSize = 13
	dpTitle.TextColor3 = Color3.fromRGB(200, 200, 200)
	dpTitle.TextXAlignment = Enum.TextXAlignment.Left
	dpTitle.BackgroundTransparency = 1
	dpTitle.Position = UDim2.new(0, 12, 0, 10)
	dpTitle.Size = UDim2.new(1, -50, 0, 20)
	dpTitle.ZIndex = 52
	dpTitle.Parent = DropdownPanel

	local dpClose = Instance.new("TextButton")
	dpClose.Text = "âœ•"
	dpClose.Font = Enum.Font.GothamBold
	dpClose.TextSize = 14
	dpClose.TextColor3 = Color3.fromRGB(120, 120, 120)
	dpClose.BackgroundTransparency = 1
	dpClose.AnchorPoint = Vector2.new(1, 0)
	dpClose.Position = UDim2.new(1, -6, 0, 6)
	dpClose.Size = UDim2.new(0, 28, 0, 28)
	dpClose.ZIndex = 52
	dpClose.Parent = DropdownPanel

	local dpSearch = Instance.new("TextBox")
	dpSearch.Name = "Search"
	dpSearch.Font = Enum.Font.Gotham
	dpSearch.PlaceholderText = "Search..."
	dpSearch.PlaceholderColor3 = Color3.fromRGB(80, 80, 80)
	dpSearch.Text = ""
	dpSearch.TextSize = 12
	dpSearch.TextColor3 = Color3.fromRGB(200, 200, 200)
	dpSearch.BackgroundColor3 = Color3.fromRGB(30, 30, 34)
	dpSearch.BorderSizePixel = 0
	dpSearch.Position = UDim2.new(0, 10, 0, 36)
	dpSearch.Size = UDim2.new(1, -20, 0, 28)
	dpSearch.ClearTextOnFocus = false
	dpSearch.ZIndex = 52
	dpSearch.Parent = DropdownPanel
	Instance.new("UICorner", dpSearch).CornerRadius = UDim.new(0, 4)

	local dpScroll = Instance.new("ScrollingFrame")
	dpScroll.Name = "OptionScroll"
	dpScroll.Position = UDim2.new(0, 8, 0, 72)
	dpScroll.Size = UDim2.new(1, -16, 1, -80)
	dpScroll.BackgroundTransparency = 1
	dpScroll.ScrollBarThickness = 2
	dpScroll.ScrollBarImageColor3 = Color3.fromRGB(60, 60, 60)
	dpScroll.BorderSizePixel = 0
	dpScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
	dpScroll.ZIndex = 52
	dpScroll.Parent = DropdownPanel

	local dpLayout = Instance.new("UIListLayout")
	dpLayout.Padding = UDim.new(0, 2)
	dpLayout.SortOrder = Enum.SortOrder.LayoutOrder
	dpLayout.Parent = dpScroll

	dpLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		dpScroll.CanvasSize = UDim2.new(0, 0, 0, dpLayout.AbsoluteContentSize.Y)
	end)

	local activeDropdown = nil

	local function closeDropdown()
		DropdownOverlay.Visible = false
		DropdownPanel.Visible = false
		dpSearch.Text = ""
		for _, c in dpScroll:GetChildren() do
			if c:IsA("Frame") then c:Destroy() end
		end
		activeDropdown = nil
	end

	dpClose.MouseButton1Click:Connect(closeDropdown)
	DropdownOverlay.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			closeDropdown()
		end
	end)

	local Tabs = {}
	local CountTab = 0
	local AllTabButtons = {}
	local AllPages = {}

	function Tabs:AddTab(TabConfig)
		TabConfig = TabConfig or {}
		TabConfig.Name = TabConfig.Name or "Tab"
		TabConfig.Icon = TabConfig.Icon or ""

		local tabIndex = CountTab

		local Page = Instance.new("ScrollingFrame")
		Page.Name = "Page_" .. tabIndex
		Page.LayoutOrder = tabIndex
		Page.Size = UDim2.new(1, 0, 1, 0)
		Page.BackgroundTransparency = 1
		Page.BorderSizePixel = 0
		Page.ScrollBarThickness = 2
		Page.ScrollBarImageColor3 = Color3.fromRGB(60, 60, 60)
		Page.CanvasSize = UDim2.new(0, 0, 0, 0)
		Page.Parent = PageFolder

		local PagePadding = Instance.new("UIPadding")
		PagePadding.PaddingLeft = UDim.new(0, 14)
		PagePadding.PaddingRight = UDim.new(0, 14)
		PagePadding.PaddingTop = UDim.new(0, 10)
		PagePadding.PaddingBottom = UDim.new(0, 10)
		PagePadding.Parent = Page

		local PageLayout = Instance.new("UIListLayout")
		PageLayout.Padding = UDim.new(0, 4)
		PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
		PageLayout.Parent = Page

		PageLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			Page.CanvasSize = UDim2.new(0, 0, 0, PageLayout.AbsoluteContentSize.Y + 20)
		end)

		AllPages[tabIndex] = Page

		local TabBtn = Instance.new("TextButton")
		TabBtn.Name = "Tab_" .. tabIndex
		TabBtn.LayoutOrder = tabIndex
		TabBtn.Size = UDim2.new(1, 0, 0, 36)
		TabBtn.BackgroundTransparency = 1
		TabBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabBtn.Text = ""
		TabBtn.AutoButtonColor = false
		TabBtn.BorderSizePixel = 0
		TabBtn.Parent = TabScroll
		Instance.new("UICorner", TabBtn).CornerRadius = UDim.new(0, 6)

		local TabIcon = Instance.new("ImageLabel")
		TabIcon.Size = UDim2.new(0, 18, 0, 18)
		TabIcon.Position = UDim2.new(0, 20, 0.5, -9)
		TabIcon.BackgroundTransparency = 1
		TabIcon.ImageColor3 = Color3.fromRGB(140, 140, 140)
		TabIcon.Parent = TabBtn

		if TabConfig.Icon ~= "" then
			if Icons[TabConfig.Icon] then
				TabIcon.Image = Icons[TabConfig.Icon]
			else
				TabIcon.Image = TabConfig.Icon
			end
		end

		local TabName = Instance.new("TextLabel")
		TabName.Font = Enum.Font.GothamBold
		TabName.Text = TabConfig.Name
		TabName.TextSize = 13
		TabName.TextColor3 = Color3.fromRGB(140, 140, 140)
		TabName.TextXAlignment = Enum.TextXAlignment.Left
		TabName.BackgroundTransparency = 1
		TabName.Position = UDim2.new(0, 46, 0, 0)
		TabName.Size = UDim2.new(1, -50, 1, 0)
		TabName.Parent = TabBtn

		AllTabButtons[tabIndex] = { Button = TabBtn, Name = TabName, Icon = TabIcon }

		local function selectTab(idx)
			for i, tb in pairs(AllTabButtons) do
				if i == idx then
					TweenService:Create(tb.Name, TweenInfo.new(0.2), { TextColor3 = AccentColor }):Play()
					TweenService:Create(tb.Icon, TweenInfo.new(0.2), { ImageColor3 = AccentColor }):Play()
					TweenService:Create(tb.Button, TweenInfo.new(0.2), { BackgroundTransparency = 0.94 }):Play()
				else
					TweenService:Create(tb.Name, TweenInfo.new(0.2), { TextColor3 = Color3.fromRGB(140, 140, 140) }):Play()
					TweenService:Create(tb.Icon, TweenInfo.new(0.2), { ImageColor3 = Color3.fromRGB(140, 140, 140) }):Play()
					TweenService:Create(tb.Button, TweenInfo.new(0.2), { BackgroundTransparency = 1 }):Play()
				end
			end

			local targetY = 66 + (idx * 38)
			TweenService:Create(Indicator, TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
				Position = UDim2.new(0, 3, 0, targetY)
			}):Play()

			PageLayout:JumpToIndex(idx)
		end

		TabBtn.MouseButton1Click:Connect(function()
			selectTab(tabIndex)
		end)

		if CountTab == 0 then
			task.defer(function()
				selectTab(0)
			end)
		end

		local Sections = {}
		local CountSection = 0

		function Sections:AddSection(SectionTitle, AlwaysOpen)
			SectionTitle = SectionTitle or "Section"

			local Section = Instance.new("Frame")
			Section.Name = "Section"
			Section.LayoutOrder = CountSection
			Section.BackgroundTransparency = 1
			Section.Size = UDim2.new(1, 0, 0, 30)
			Section.ClipsDescendants = true
			Section.Parent = Page

			local SectionHeader = Instance.new("TextButton")
			SectionHeader.Name = "Header"
			SectionHeader.Size = UDim2.new(1, 0, 0, 28)
			SectionHeader.BackgroundTransparency = 1
			SectionHeader.Text = ""
			SectionHeader.AutoButtonColor = false
			SectionHeader.Parent = Section

			local SectionLabel = Instance.new("TextLabel")
			SectionLabel.Font = Enum.Font.GothamBold
			SectionLabel.Text = SectionTitle
			SectionLabel.TextSize = 12
			SectionLabel.TextColor3 = Color3.fromRGB(100, 100, 105)
			SectionLabel.TextXAlignment = Enum.TextXAlignment.Left
			SectionLabel.BackgroundTransparency = 1
			SectionLabel.Position = UDim2.new(0, 4, 0, 0)
			SectionLabel.Size = UDim2.new(1, -30, 1, 0)
			SectionLabel.Parent = SectionHeader

			local Arrow = Instance.new("ImageLabel")
			Arrow.Size = UDim2.new(0, 14, 0, 14)
			Arrow.AnchorPoint = Vector2.new(1, 0.5)
			Arrow.Position = UDim2.new(1, -4, 0.5, 0)
			Arrow.BackgroundTransparency = 1
			Arrow.Image = "rbxassetid://16851841101"
			Arrow.ImageColor3 = Color3.fromRGB(80, 80, 80)
			Arrow.Rotation = -90
			Arrow.Parent = SectionHeader

			local ItemContainer = Instance.new("Frame")
			ItemContainer.Name = "Items"
			ItemContainer.Position = UDim2.new(0, 0, 0, 30)
			ItemContainer.Size = UDim2.new(1, 0, 0, 0)
			ItemContainer.BackgroundTransparency = 1
			ItemContainer.Parent = Section

			local ItemLayout = Instance.new("UIListLayout")
			ItemLayout.Padding = UDim.new(0, 3)
			ItemLayout.SortOrder = Enum.SortOrder.LayoutOrder
			ItemLayout.Parent = ItemContainer

			local isOpen = false

			local function updateSectionSize()
				if isOpen then
					local totalH = 0
					for _, c in ItemContainer:GetChildren() do
						if c:IsA("GuiObject") then
							totalH = totalH + c.Size.Y.Offset + 3
						end
					end
					ItemContainer.Size = UDim2.new(1, 0, 0, totalH)
					Section.Size = UDim2.new(1, 0, 0, 30 + totalH)
				else
					ItemContainer.Size = UDim2.new(1, 0, 0, 0)
					Section.Size = UDim2.new(1, 0, 0, 30)
				end
			end

			local function openSection()
				isOpen = true
				SectionLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
				Arrow.Rotation = 0
				updateSectionSize()
			end

			local function closeSection()
				isOpen = false
				SectionLabel.TextColor3 = Color3.fromRGB(100, 100, 105)
				Arrow.Rotation = -90
				updateSectionSize()
			end

			if AlwaysOpen == true then
				Arrow.Visible = false
				openSection()
			elseif AlwaysOpen == false then
				openSection()
			end

			if AlwaysOpen ~= true then
				SectionHeader.MouseButton1Click:Connect(function()
					if isOpen then
						closeSection()
					else
						openSection()
					end
				end)
			end

			ItemContainer.ChildAdded:Connect(function()
				task.defer(updateSectionSize)
			end)
			ItemContainer.ChildRemoved:Connect(function()
				task.defer(updateSectionSize)
			end)

			local Items = {}
			local CountItem = 0

			function Items:AddToggle(ToggleConfig)
				ToggleConfig = ToggleConfig or {}
				ToggleConfig.Title = ToggleConfig.Title or "Toggle"
				ToggleConfig.Default = ToggleConfig.Default or false
				ToggleConfig.Callback = ToggleConfig.Callback or function() end

				local configKey = "Toggle_" .. ToggleConfig.Title
				if ConfigData[configKey] ~= nil then
					ToggleConfig.Default = ConfigData[configKey]
				end

				local ToggleFunc = { Value = ToggleConfig.Default }

				local Toggle = Instance.new("Frame")
				Toggle.Size = UDim2.new(1, 0, 0, 38)
				Toggle.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				Toggle.BorderSizePixel = 0
				Toggle.LayoutOrder = CountItem
				Toggle.Parent = ItemContainer
				Instance.new("UICorner", Toggle).CornerRadius = UDim.new(0, 6)

				local ToggleBtn = Instance.new("TextButton")
				ToggleBtn.Text = ""
				ToggleBtn.Size = UDim2.new(1, 0, 1, 0)
				ToggleBtn.BackgroundTransparency = 1
				ToggleBtn.Parent = Toggle

				local TitleLbl = Instance.new("TextLabel")
				TitleLbl.Font = Enum.Font.GothamBold
				TitleLbl.Text = ToggleConfig.Title
				TitleLbl.TextSize = 13
				TitleLbl.TextColor3 = Color3.fromRGB(210, 210, 210)
				TitleLbl.TextXAlignment = Enum.TextXAlignment.Left
				TitleLbl.BackgroundTransparency = 1
				TitleLbl.Position = UDim2.new(0, 14, 0, 0)
				TitleLbl.Size = UDim2.new(1, -70, 1, 0)
				TitleLbl.Parent = Toggle

				local SwitchBg = Instance.new("Frame")
				SwitchBg.AnchorPoint = Vector2.new(1, 0.5)
				SwitchBg.Position = UDim2.new(1, -12, 0.5, 0)
				SwitchBg.Size = UDim2.new(0, 36, 0, 18)
				SwitchBg.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
				SwitchBg.BorderSizePixel = 0
				SwitchBg.Parent = Toggle
				Instance.new("UICorner", SwitchBg).CornerRadius = UDim.new(1, 0)

				local SwitchCircle = Instance.new("Frame")
				SwitchCircle.Size = UDim2.new(0, 14, 0, 14)
				SwitchCircle.Position = UDim2.new(0, 2, 0, 2)
				SwitchCircle.BackgroundColor3 = Color3.fromRGB(80, 80, 85)
				SwitchCircle.BorderSizePixel = 0
				SwitchCircle.Parent = SwitchBg
				Instance.new("UICorner", SwitchCircle).CornerRadius = UDim.new(1, 0)

				function ToggleFunc:Set(val)
					ToggleFunc.Value = val
					ConfigData[configKey] = val

					if val then
						TweenService:Create(SwitchBg, TweenInfo.new(0.2), { BackgroundColor3 = AccentColor }):Play()
						TweenService:Create(SwitchCircle, TweenInfo.new(0.2), { Position = UDim2.new(0, 20, 0, 2), BackgroundColor3 = Color3.fromRGB(255, 255, 255) }):Play()
					else
						TweenService:Create(SwitchBg, TweenInfo.new(0.2), { BackgroundColor3 = Color3.fromRGB(45, 45, 50) }):Play()
						TweenService:Create(SwitchCircle, TweenInfo.new(0.2), { Position = UDim2.new(0, 2, 0, 2), BackgroundColor3 = Color3.fromRGB(80, 80, 85) }):Play()
					end

					pcall(ToggleConfig.Callback, val)
				end

				ToggleBtn.MouseButton1Click:Connect(function()
					ToggleFunc.Value = not ToggleFunc.Value
					ToggleFunc:Set(ToggleFunc.Value)
				end)

				ToggleFunc:Set(ToggleFunc.Value)
				CountItem += 1
				Elements[configKey] = ToggleFunc
				return ToggleFunc
			end

			function Items:AddDropdown(DropdownConfig)
				DropdownConfig = DropdownConfig or {}
				DropdownConfig.Title = DropdownConfig.Title or "Dropdown"
				DropdownConfig.Multi = DropdownConfig.Multi or false
				DropdownConfig.Options = DropdownConfig.Options or {}
				DropdownConfig.Default = DropdownConfig.Default or (DropdownConfig.Multi and {} or nil)
				DropdownConfig.Callback = DropdownConfig.Callback or function() end

				local configKey = "Dropdown_" .. DropdownConfig.Title
				if ConfigData[configKey] ~= nil then
					DropdownConfig.Default = ConfigData[configKey]
				end

				local DropdownFunc = { Value = DropdownConfig.Default, Options = DropdownConfig.Options }

				local Dropdown = Instance.new("Frame")
				Dropdown.Size = UDim2.new(1, 0, 0, 38)
				Dropdown.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				Dropdown.BorderSizePixel = 0
				Dropdown.LayoutOrder = CountItem
				Dropdown.Parent = ItemContainer
				Instance.new("UICorner", Dropdown).CornerRadius = UDim.new(0, 6)

				local DropBtn = Instance.new("TextButton")
				DropBtn.Text = ""
				DropBtn.Size = UDim2.new(1, 0, 1, 0)
				DropBtn.BackgroundTransparency = 1
				DropBtn.Parent = Dropdown

				local DropTitle = Instance.new("TextLabel")
				DropTitle.Font = Enum.Font.GothamBold
				DropTitle.Text = DropdownConfig.Title
				DropTitle.TextSize = 13
				DropTitle.TextColor3 = Color3.fromRGB(210, 210, 210)
				DropTitle.TextXAlignment = Enum.TextXAlignment.Left
				DropTitle.BackgroundTransparency = 1
				DropTitle.Position = UDim2.new(0, 14, 0, 0)
				DropTitle.Size = UDim2.new(0.5, 0, 1, 0)
				DropTitle.Parent = Dropdown

				local SelFrame = Instance.new("Frame")
				SelFrame.AnchorPoint = Vector2.new(1, 0.5)
				SelFrame.Position = UDim2.new(1, -10, 0.5, 0)
				SelFrame.Size = UDim2.new(0, 130, 0, 26)
				SelFrame.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
				SelFrame.BorderSizePixel = 0
				SelFrame.Parent = Dropdown
				Instance.new("UICorner", SelFrame).CornerRadius = UDim.new(0, 4)

				local SelLabel = Instance.new("TextLabel")
				SelLabel.Font = Enum.Font.Gotham
				SelLabel.Text = "None"
				SelLabel.TextSize = 12
				SelLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
				SelLabel.TextXAlignment = Enum.TextXAlignment.Center
				SelLabel.TextTruncate = Enum.TextTruncate.AtEnd
				SelLabel.BackgroundTransparency = 1
				SelLabel.Position = UDim2.new(0, 6, 0, 0)
				SelLabel.Size = UDim2.new(1, -28, 1, 0)
				SelLabel.Parent = SelFrame

				local SelArrow = Instance.new("ImageLabel")
				SelArrow.Size = UDim2.new(0, 16, 0, 16)
				SelArrow.AnchorPoint = Vector2.new(1, 0.5)
				SelArrow.Position = UDim2.new(1, -4, 0.5, 0)
				SelArrow.BackgroundTransparency = 1
				SelArrow.Image = "rbxassetid://16851841101"
				SelArrow.ImageColor3 = Color3.fromRGB(120, 120, 120)
				SelArrow.Rotation = 180
				SelArrow.Parent = SelFrame

				local function updateLabel()
					if DropdownConfig.Multi then
						if #DropdownFunc.Value == 0 then
							SelLabel.Text = "None"
						else
							local texts = {}
							for _, v in ipairs(DropdownFunc.Value) do
								table.insert(texts, tostring(v))
							end
							SelLabel.Text = table.concat(texts, ", ")
						end
					else
						SelLabel.Text = DropdownFunc.Value ~= nil and tostring(DropdownFunc.Value) or "None"
					end
				end

				local function openDropdownPanel()
					dpTitle.Text = DropdownConfig.Title
					dpSearch.Text = ""
					activeDropdown = DropdownFunc

					for _, c in dpScroll:GetChildren() do
						if c:IsA("Frame") then c:Destroy() end
					end

					for i, opt in ipairs(DropdownFunc.Options) do
						local label, value
						if typeof(opt) == "table" and opt.Label then
							label = tostring(opt.Label)
							value = opt.Value
						else
							label = tostring(opt)
							value = opt
						end

						local OptFrame = Instance.new("Frame")
						OptFrame.Name = "Opt"
						OptFrame.Size = UDim2.new(1, 0, 0, 30)
						OptFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 34)
						OptFrame.BackgroundTransparency = 1
						OptFrame.BorderSizePixel = 0
						OptFrame.LayoutOrder = i
						OptFrame.Parent = dpScroll
						Instance.new("UICorner", OptFrame).CornerRadius = UDim.new(0, 4)

						local OptBtn = Instance.new("TextButton")
						OptBtn.Text = ""
						OptBtn.Size = UDim2.new(1, 0, 1, 0)
						OptBtn.BackgroundTransparency = 1
						OptBtn.ZIndex = 53
						OptBtn.Parent = OptFrame

						local OptLabel = Instance.new("TextLabel")
						OptLabel.Name = "Label"
						OptLabel.Font = Enum.Font.Gotham
						OptLabel.Text = label
						OptLabel.TextSize = 12
						OptLabel.TextColor3 = Color3.fromRGB(190, 190, 190)
						OptLabel.TextXAlignment = Enum.TextXAlignment.Left
						OptLabel.BackgroundTransparency = 1
						OptLabel.Position = UDim2.new(0, 10, 0, 0)
						OptLabel.Size = UDim2.new(1, -36, 1, 0)
						OptLabel.ZIndex = 52
						OptLabel.Parent = OptFrame

						local Check = Instance.new("Frame")
						Check.Name = "Check"
						Check.AnchorPoint = Vector2.new(1, 0.5)
						Check.Position = UDim2.new(1, -8, 0.5, 0)
						Check.Size = UDim2.new(0, 8, 0, 8)
						Check.BackgroundColor3 = AccentColor
						Check.BorderSizePixel = 0
						Check.ZIndex = 52
						Check.Parent = OptFrame
						Instance.new("UICorner", Check).CornerRadius = UDim.new(1, 0)

						local selected = false
						if DropdownConfig.Multi then
							selected = table.find(DropdownFunc.Value, value) ~= nil
						else
							selected = (DropdownFunc.Value == value)
						end
						Check.Visible = selected
						if selected then
							OptFrame.BackgroundTransparency = 0.5
						end

						OptBtn.MouseButton1Click:Connect(function()
							if DropdownConfig.Multi then
								local idx = table.find(DropdownFunc.Value, value)
								if idx then
									table.remove(DropdownFunc.Value, idx)
								else
									table.insert(DropdownFunc.Value, value)
								end
							else
								DropdownFunc.Value = value
							end

							for _, cf in dpScroll:GetChildren() do
								if cf:IsA("Frame") and cf:FindFirstChild("Check") then
									local cv = cf:GetAttribute("Val")
									local isSel = false
									if DropdownConfig.Multi then
										isSel = table.find(DropdownFunc.Value, cv) ~= nil
									else
										isSel = (DropdownFunc.Value == cv)
									end
									cf.Check.Visible = isSel
									cf.BackgroundTransparency = isSel and 0.5 or 1
								end
							end

							ConfigData[configKey] = DropdownFunc.Value
							updateLabel()
							pcall(DropdownConfig.Callback, DropdownConfig.Multi and DropdownFunc.Value or tostring(DropdownFunc.Value))

							if not DropdownConfig.Multi then
								closeDropdown()
							end
						end)

						OptFrame:SetAttribute("Val", value)
					end

					DropdownOverlay.Visible = true
					DropdownOverlay.BackgroundTransparency = 0.6
					DropdownPanel.Visible = true
				end

				DropBtn.MouseButton1Click:Connect(openDropdownPanel)

				dpSearch:GetPropertyChangedSignal("Text"):Connect(function()
					if activeDropdown ~= DropdownFunc then return end
					local q = string.lower(dpSearch.Text)
					for _, c in dpScroll:GetChildren() do
						if c:IsA("Frame") and c:FindFirstChild("Label") then
							c.Visible = q == "" or string.find(string.lower(c.Label.Text), q, 1, true) ~= nil
						end
					end
				end)

				function DropdownFunc:Clear()
					DropdownFunc.Value = DropdownConfig.Multi and {} or nil
					DropdownFunc.Options = {}
					updateLabel()
				end

				function DropdownFunc:AddOption(opt)
					table.insert(DropdownFunc.Options, opt)
				end

				function DropdownFunc:Set(val)
					if DropdownConfig.Multi then
						DropdownFunc.Value = type(val) == "table" and val or {}
					else
						DropdownFunc.Value = (type(val) == "table" and val[1]) or val
					end
					ConfigData[configKey] = DropdownFunc.Value
					updateLabel()
					pcall(DropdownConfig.Callback, DropdownConfig.Multi and DropdownFunc.Value or (DropdownFunc.Value ~= nil and tostring(DropdownFunc.Value) or ""))
				end

				function DropdownFunc:SetValue(val) self:Set(val) end
				function DropdownFunc:GetValue() return self.Value end

				function DropdownFunc:SetValues(newList, selecting)
					newList = newList or {}
					selecting = selecting or (DropdownConfig.Multi and {} or nil)
					DropdownFunc.Options = newList
					DropdownFunc:Set(selecting)
				end

				updateLabel()
				if DropdownFunc.Value then
					DropdownFunc:Set(DropdownFunc.Value)
				end

				CountItem += 1
				Elements[configKey] = DropdownFunc
				return DropdownFunc
			end

			function Items:AddInput(InputConfig)
				InputConfig = InputConfig or {}
				InputConfig.Title = InputConfig.Title or "Input"
				InputConfig.Callback = InputConfig.Callback or function() end
				InputConfig.Default = InputConfig.Default or ""

				local configKey = "Input_" .. InputConfig.Title
				if ConfigData[configKey] ~= nil then
					InputConfig.Default = ConfigData[configKey]
				end

				local InputFunc = { Value = InputConfig.Default }

				local InputFrame = Instance.new("Frame")
				InputFrame.Size = UDim2.new(1, 0, 0, 56)
				InputFrame.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				InputFrame.BorderSizePixel = 0
				InputFrame.LayoutOrder = CountItem
				InputFrame.Parent = ItemContainer
				Instance.new("UICorner", InputFrame).CornerRadius = UDim.new(0, 6)

				local InputTitle = Instance.new("TextLabel")
				InputTitle.Font = Enum.Font.GothamBold
				InputTitle.Text = InputConfig.Title
				InputTitle.TextSize = 13
				InputTitle.TextColor3 = Color3.fromRGB(210, 210, 210)
				InputTitle.TextXAlignment = Enum.TextXAlignment.Left
				InputTitle.BackgroundTransparency = 1
				InputTitle.Position = UDim2.new(0, 14, 0, 6)
				InputTitle.Size = UDim2.new(1, -20, 0, 16)
				InputTitle.Parent = InputFrame

				local InputBox = Instance.new("TextBox")
				InputBox.Font = Enum.Font.Gotham
				InputBox.PlaceholderText = "Type here..."
				InputBox.PlaceholderColor3 = Color3.fromRGB(70, 70, 75)
				InputBox.Text = InputConfig.Default
				InputBox.TextSize = 12
				InputBox.TextColor3 = Color3.fromRGB(200, 200, 200)
				InputBox.TextXAlignment = Enum.TextXAlignment.Left
				InputBox.BackgroundColor3 = Color3.fromRGB(18, 18, 20)
				InputBox.BorderSizePixel = 0
				InputBox.Position = UDim2.new(0, 10, 0, 28)
				InputBox.Size = UDim2.new(1, -20, 0, 22)
				InputBox.ClearTextOnFocus = false
				InputBox.ClipsDescendants = true
				InputBox.Parent = InputFrame
				Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 4)

				local inputPad = Instance.new("UIPadding")
				inputPad.PaddingLeft = UDim.new(0, 8)
				inputPad.Parent = InputBox

				function InputFunc:Set(val)
					InputFunc.Value = val
					InputBox.Text = val
					ConfigData[configKey] = val
					pcall(InputConfig.Callback, val)
				end

				InputBox:GetPropertyChangedSignal("Text"):Connect(function()
					InputFunc.Value = InputBox.Text
					ConfigData[configKey] = InputBox.Text
				end)

				InputBox.FocusLost:Connect(function()
					InputFunc:Set(InputBox.Text)
				end)

				InputFunc:Set(InputFunc.Value)
				CountItem += 1
				Elements[configKey] = InputFunc
				return InputFunc
			end

			function Items:AddSubSection(title)
				title = title or "Sub Section"

				local Sub = Instance.new("Frame")
				Sub.Size = UDim2.new(1, 0, 0, 24)
				Sub.BackgroundTransparency = 1
				Sub.LayoutOrder = CountItem
				Sub.Parent = ItemContainer

				local SubLabel = Instance.new("TextLabel")
				SubLabel.Font = Enum.Font.GothamBold
				SubLabel.Text = title
				SubLabel.TextSize = 11
				SubLabel.TextColor3 = Color3.fromRGB(90, 90, 95)
				SubLabel.TextXAlignment = Enum.TextXAlignment.Left
				SubLabel.BackgroundTransparency = 1
				SubLabel.Position = UDim2.new(0, 4, 0, 6)
				SubLabel.Size = UDim2.new(1, -8, 0, 14)
				SubLabel.Parent = Sub

				CountItem += 1
				return Sub
			end

			function Items:AddButton(ButtonConfig)
				ButtonConfig = ButtonConfig or {}
				ButtonConfig.Title = ButtonConfig.Title or "Button"
				ButtonConfig.Callback = ButtonConfig.Callback or function() end
				ButtonConfig.SubTitle = ButtonConfig.SubTitle or nil
				ButtonConfig.SubCallback = ButtonConfig.SubCallback or function() end

				local BtnFrame = Instance.new("Frame")
				BtnFrame.Size = UDim2.new(1, 0, 0, 36)
				BtnFrame.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				BtnFrame.BorderSizePixel = 0
				BtnFrame.LayoutOrder = CountItem
				BtnFrame.Parent = ItemContainer
				Instance.new("UICorner", BtnFrame).CornerRadius = UDim.new(0, 6)

				local MainBtn = Instance.new("TextButton")
				MainBtn.Font = Enum.Font.GothamBold
				MainBtn.Text = ButtonConfig.Title
				MainBtn.TextSize = 12
				MainBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
				MainBtn.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
				MainBtn.BorderSizePixel = 0
				MainBtn.AutoButtonColor = false
				MainBtn.Parent = BtnFrame
				Instance.new("UICorner", MainBtn).CornerRadius = UDim.new(0, 4)

				if ButtonConfig.SubTitle then
					MainBtn.Size = UDim2.new(0.5, -8, 0, 28)
					MainBtn.Position = UDim2.new(0, 4, 0, 4)

					local SubBtn = Instance.new("TextButton")
					SubBtn.Font = Enum.Font.GothamBold
					SubBtn.Text = ButtonConfig.SubTitle
					SubBtn.TextSize = 12
					SubBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
					SubBtn.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
					SubBtn.BorderSizePixel = 0
					SubBtn.AutoButtonColor = false
					SubBtn.Size = UDim2.new(0.5, -8, 0, 28)
					SubBtn.Position = UDim2.new(0.5, 4, 0, 4)
					SubBtn.Parent = BtnFrame
					Instance.new("UICorner", SubBtn).CornerRadius = UDim.new(0, 4)

					SubBtn.MouseButton1Click:Connect(function()
						TweenService:Create(SubBtn, TweenInfo.new(0.1), { BackgroundColor3 = Color3.fromRGB(50, 50, 55) }):Play()
						task.delay(0.15, function()
							TweenService:Create(SubBtn, TweenInfo.new(0.1), { BackgroundColor3 = Color3.fromRGB(32, 32, 36) }):Play()
						end)
						pcall(ButtonConfig.SubCallback)
					end)
				else
					MainBtn.Size = UDim2.new(1, -8, 0, 28)
					MainBtn.Position = UDim2.new(0, 4, 0, 4)
				end

				MainBtn.MouseButton1Click:Connect(function()
					TweenService:Create(MainBtn, TweenInfo.new(0.1), { BackgroundColor3 = Color3.fromRGB(50, 50, 55) }):Play()
					task.delay(0.15, function()
						TweenService:Create(MainBtn, TweenInfo.new(0.1), { BackgroundColor3 = Color3.fromRGB(32, 32, 36) }):Play()
					end)
					pcall(ButtonConfig.Callback)
				end)

				CountItem += 1
			end

			function Items:AddParagraph(ParagraphConfig)
				ParagraphConfig = ParagraphConfig or {}
				ParagraphConfig.Title = ParagraphConfig.Title or "Title"
				ParagraphConfig.Content = ParagraphConfig.Content or ""

				local ParagraphFunc = {}

				local Para = Instance.new("Frame")
				Para.Size = UDim2.new(1, 0, 0, 42)
				Para.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				Para.BorderSizePixel = 0
				Para.LayoutOrder = CountItem
				Para.Parent = ItemContainer
				Instance.new("UICorner", Para).CornerRadius = UDim.new(0, 6)

				local PTitle = Instance.new("TextLabel")
				PTitle.Font = Enum.Font.GothamBold
				PTitle.Text = ParagraphConfig.Title
				PTitle.TextSize = 13
				PTitle.TextColor3 = Color3.fromRGB(210, 210, 210)
				PTitle.TextXAlignment = Enum.TextXAlignment.Left
				PTitle.BackgroundTransparency = 1
				PTitle.Position = UDim2.new(0, 14, 0, 8)
				PTitle.Size = UDim2.new(1, -20, 0, 14)
				PTitle.Parent = Para

				local PContent = Instance.new("TextLabel")
				PContent.Font = Enum.Font.Gotham
				PContent.Text = ParagraphConfig.Content
				PContent.TextSize = 11
				PContent.TextColor3 = Color3.fromRGB(140, 140, 145)
				PContent.TextXAlignment = Enum.TextXAlignment.Left
				PContent.TextWrapped = true
				PContent.RichText = true
				PContent.BackgroundTransparency = 1
				PContent.Position = UDim2.new(0, 14, 0, 24)
				PContent.Size = UDim2.new(1, -20, 0, 14)
				PContent.Parent = Para

				local function updateParaSize()
					task.defer(function()
						local h = PContent.TextBounds.Y
						PContent.Size = UDim2.new(1, -20, 0, math.max(14, h))
						Para.Size = UDim2.new(1, 0, 0, 30 + math.max(14, h))
						updateSectionSize()
					end)
				end

				PContent:GetPropertyChangedSignal("TextBounds"):Connect(updateParaSize)
				updateParaSize()

				function ParagraphFunc:SetContent(content)
					PContent.Text = content or ""
				end

				CountItem += 1
				return ParagraphFunc
			end

			function Items:AddSlider(SliderConfig)
				SliderConfig = SliderConfig or {}
				SliderConfig.Title = SliderConfig.Title or "Slider"
				SliderConfig.Increment = SliderConfig.Increment or 1
				SliderConfig.Min = SliderConfig.Min or 0
				SliderConfig.Max = SliderConfig.Max or 100
				SliderConfig.Default = SliderConfig.Default or 50
				SliderConfig.Callback = SliderConfig.Callback or function() end

				local configKey = "Slider_" .. SliderConfig.Title
				if ConfigData[configKey] ~= nil then
					SliderConfig.Default = ConfigData[configKey]
				end

				local SliderFunc = { Value = SliderConfig.Default }

				local Slider = Instance.new("Frame")
				Slider.Size = UDim2.new(1, 0, 0, 42)
				Slider.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				Slider.BorderSizePixel = 0
				Slider.LayoutOrder = CountItem
				Slider.Parent = ItemContainer
				Instance.new("UICorner", Slider).CornerRadius = UDim.new(0, 6)

				local SliderTitle = Instance.new("TextLabel")
				SliderTitle.Font = Enum.Font.GothamBold
				SliderTitle.Text = SliderConfig.Title
				SliderTitle.TextSize = 13
				SliderTitle.TextColor3 = Color3.fromRGB(210, 210, 210)
				SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
				SliderTitle.BackgroundTransparency = 1
				SliderTitle.Position = UDim2.new(0, 14, 0, 4)
				SliderTitle.Size = UDim2.new(0.5, 0, 0, 16)
				SliderTitle.Parent = Slider

				local ValLabel = Instance.new("TextLabel")
				ValLabel.Font = Enum.Font.GothamBold
				ValLabel.Text = tostring(SliderConfig.Default)
				ValLabel.TextSize = 12
				ValLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
				ValLabel.TextXAlignment = Enum.TextXAlignment.Right
				ValLabel.BackgroundTransparency = 1
				ValLabel.AnchorPoint = Vector2.new(1, 0)
				ValLabel.Position = UDim2.new(1, -14, 0, 4)
				ValLabel.Size = UDim2.new(0.3, 0, 0, 16)
				ValLabel.Parent = Slider

				local Track = Instance.new("Frame")
				Track.Position = UDim2.new(0, 14, 0, 28)
				Track.Size = UDim2.new(1, -28, 0, 4)
				Track.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
				Track.BorderSizePixel = 0
				Track.Parent = Slider
				Instance.new("UICorner", Track).CornerRadius = UDim.new(1, 0)

				local Fill = Instance.new("Frame")
				Fill.Size = UDim2.new(0.5, 0, 1, 0)
				Fill.BackgroundColor3 = AccentColor
				Fill.BorderSizePixel = 0
				Fill.Parent = Track
				Instance.new("UICorner", Fill).CornerRadius = UDim.new(1, 0)

				local Knob = Instance.new("Frame")
				Knob.AnchorPoint = Vector2.new(1, 0.5)
				Knob.Position = UDim2.new(1, 2, 0.5, 0)
				Knob.Size = UDim2.new(0, 10, 0, 10)
				Knob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Knob.BorderSizePixel = 0
				Knob.ZIndex = 3
				Knob.Parent = Fill
				Instance.new("UICorner", Knob).CornerRadius = UDim.new(1, 0)

				local Dragging = false

				local function round(n, f)
					return math.floor(n / f + 0.5) * f
				end

				function SliderFunc:Set(val)
					val = math.clamp(round(val, SliderConfig.Increment), SliderConfig.Min, SliderConfig.Max)
					SliderFunc.Value = val
					ValLabel.Text = tostring(val)
					local pct = (val - SliderConfig.Min) / (SliderConfig.Max - SliderConfig.Min)
					TweenService:Create(Fill, TweenInfo.new(0.1), { Size = UDim2.new(pct, 0, 1, 0) }):Play()
					ConfigData[configKey] = val
					pcall(SliderConfig.Callback, val)
				end

				Track.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						Dragging = true
						local pct = math.clamp((input.Position.X - Track.AbsolutePosition.X) / Track.AbsoluteSize.X, 0, 1)
						SliderFunc:Set(SliderConfig.Min + (SliderConfig.Max - SliderConfig.Min) * pct)
					end
				end)

				Track.InputEnded:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						Dragging = false
					end
				end)

				UserInputService.InputChanged:Connect(function(input)
					if Dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
						local pct = math.clamp((input.Position.X - Track.AbsolutePosition.X) / Track.AbsoluteSize.X, 0, 1)
						SliderFunc:Set(SliderConfig.Min + (SliderConfig.Max - SliderConfig.Min) * pct)
					end
				end)

				SliderFunc:Set(SliderConfig.Default)
				CountItem += 1
				Elements[configKey] = SliderFunc
				return SliderFunc
			end

			function Items:AddPanel(PanelConfig)
				PanelConfig = PanelConfig or {}
				PanelConfig.Title = PanelConfig.Title or "Panel"
				PanelConfig.Content = PanelConfig.Content or ""
				PanelConfig.Placeholder = PanelConfig.Placeholder or nil
				PanelConfig.Default = PanelConfig.Default or ""
				PanelConfig.ButtonText = PanelConfig.Button or PanelConfig.ButtonText or "Confirm"
				PanelConfig.ButtonCallback = PanelConfig.Callback or PanelConfig.ButtonCallback or function() end
				PanelConfig.SubButtonText = PanelConfig.SubButton or PanelConfig.SubButtonText or nil
				PanelConfig.SubButtonCallback = PanelConfig.SubCallback or PanelConfig.SubButtonCallback or function() end

				local configKey = "Panel_" .. PanelConfig.Title
				if ConfigData[configKey] ~= nil then
					PanelConfig.Default = ConfigData[configKey]
				end

				local PanelFunc = { Value = PanelConfig.Default }
				local totalH = 46
				if PanelConfig.Placeholder then totalH = totalH + 32 end
				totalH = totalH + 36

				local Panel = Instance.new("Frame")
				Panel.Size = UDim2.new(1, 0, 0, totalH)
				Panel.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
				Panel.BorderSizePixel = 0
				Panel.LayoutOrder = CountItem
				Panel.Parent = ItemContainer
				Instance.new("UICorner", Panel).CornerRadius = UDim.new(0, 6)

				local PTitle = Instance.new("TextLabel")
				PTitle.Font = Enum.Font.GothamBold
				PTitle.Text = PanelConfig.Title
				PTitle.TextSize = 13
				PTitle.TextColor3 = Color3.fromRGB(210, 210, 210)
				PTitle.TextXAlignment = Enum.TextXAlignment.Left
				PTitle.BackgroundTransparency = 1
				PTitle.Position = UDim2.new(0, 14, 0, 8)
				PTitle.Size = UDim2.new(1, -20, 0, 14)
				PTitle.Parent = Panel

				local PContent = Instance.new("TextLabel")
				PContent.Font = Enum.Font.Gotham
				PContent.Text = PanelConfig.Content
				PContent.TextSize = 11
				PContent.TextColor3 = Color3.fromRGB(140, 140, 145)
				PContent.TextXAlignment = Enum.TextXAlignment.Left
				PContent.RichText = true
				PContent.BackgroundTransparency = 1
				PContent.Position = UDim2.new(0, 14, 0, 26)
				PContent.Size = UDim2.new(1, -20, 0, 12)
				PContent.Parent = Panel

				local InputBox
				local yOffset = 44

				if PanelConfig.Placeholder then
					InputBox = Instance.new("TextBox")
					InputBox.Font = Enum.Font.Gotham
					InputBox.PlaceholderText = PanelConfig.Placeholder
					InputBox.PlaceholderColor3 = Color3.fromRGB(70, 70, 75)
					InputBox.Text = PanelConfig.Default
					InputBox.TextSize = 11
					InputBox.TextColor3 = Color3.fromRGB(200, 200, 200)
					InputBox.TextXAlignment = Enum.TextXAlignment.Left
					InputBox.BackgroundColor3 = Color3.fromRGB(18, 18, 20)
					InputBox.BorderSizePixel = 0
					InputBox.Position = UDim2.new(0, 10, 0, yOffset)
					InputBox.Size = UDim2.new(1, -20, 0, 24)
					InputBox.ClearTextOnFocus = false
					InputBox.Parent = Panel
					Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 4)
					yOffset = yOffset + 30
				end

				local MainBtn = Instance.new("TextButton")
				MainBtn.Font = Enum.Font.GothamBold
				MainBtn.Text = PanelConfig.ButtonText
				MainBtn.TextSize = 12
				MainBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
				MainBtn.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
				MainBtn.BorderSizePixel = 0
				MainBtn.AutoButtonColor = false
				MainBtn.Parent = Panel
				Instance.new("UICorner", MainBtn).CornerRadius = UDim.new(0, 4)

				if PanelConfig.SubButtonText then
					MainBtn.Size = UDim2.new(0.5, -12, 0, 28)
					MainBtn.Position = UDim2.new(0, 10, 0, yOffset)

					local SubBtn = Instance.new("TextButton")
					SubBtn.Font = Enum.Font.GothamBold
					SubBtn.Text = PanelConfig.SubButtonText
					SubBtn.TextSize = 12
					SubBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
					SubBtn.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
					SubBtn.BorderSizePixel = 0
					SubBtn.AutoButtonColor = false
					SubBtn.Size = UDim2.new(0.5, -12, 0, 28)
					SubBtn.Position = UDim2.new(0.5, 2, 0, yOffset)
					SubBtn.Parent = Panel
					Instance.new("UICorner", SubBtn).CornerRadius = UDim.new(0, 4)

					SubBtn.MouseButton1Click:Connect(function()
						pcall(PanelConfig.SubButtonCallback, InputBox and InputBox.Text or "")
					end)
				else
					MainBtn.Size = UDim2.new(1, -20, 0, 28)
					MainBtn.Position = UDim2.new(0, 10, 0, yOffset)
				end

				MainBtn.MouseButton1Click:Connect(function()
					pcall(PanelConfig.ButtonCallback, InputBox and InputBox.Text or "")
				end)

				if InputBox then
					InputBox.FocusLost:Connect(function()
						PanelFunc.Value = InputBox.Text
						ConfigData[configKey] = InputBox.Text
					end)
				end

				function PanelFunc:GetInput()
					return InputBox and InputBox.Text or ""
				end

				CountItem += 1
				return PanelFunc
			end

			function Items:AddDivider()
				local Divider = Instance.new("Frame")
				Divider.Size = UDim2.new(1, 0, 0, 8)
				Divider.BackgroundTransparency = 1
				Divider.LayoutOrder = CountItem
				Divider.Parent = ItemContainer

				local Line = Instance.new("Frame")
				Line.AnchorPoint = Vector2.new(0.5, 0.5)
				Line.Position = UDim2.new(0.5, 0, 0.5, 0)
				Line.Size = UDim2.new(1, -8, 0, 1)
				Line.BackgroundColor3 = Color3.fromRGB(40, 40, 44)
				Line.BorderSizePixel = 0
				Line.Parent = Divider

				CountItem += 1
				return Divider
			end

			function Items:AddConfigPanel()
				local selectedConfigName = CurrentConfigName or ""

				local StatusParagraph = Items:AddParagraph({
					Title = "Config Manager",
					Content = "Current: " .. (CurrentConfigName or "None") .. " | Autoload: " .. (GetAutoload() or "None"),
				})

				local ConfigNameInput = Items:AddInput({
					Title = "Config Name",
					Default = CurrentConfigName or "",
					Callback = function(value)
						selectedConfigName = value
					end,
				})

				local configs = GetConfigList()
				local ConfigDropdown = Items:AddDropdown({
					Title = "Select Config",
					Options = configs,
					Default = nil,
					Callback = function(selected)
						selectedConfigName = selected
						ConfigNameInput:Set(selected)
					end,
				})

				Items:AddButton({
					Title = "Save Config",
					SubTitle = "Load Config",
					Callback = function()
						if selectedConfigName ~= "" then
							if SaveConfigAs(selectedConfigName) then
								chloex("Config saved: " .. selectedConfigName, 3, Color3.fromRGB(100, 255, 100))
								ConfigDropdown:SetValues(GetConfigList())
								StatusParagraph:SetContent("Current: " .. selectedConfigName .. " | Autoload: " .. (GetAutoload() or "None"))
							end
						end
					end,
					SubCallback = function()
						if selectedConfigName ~= "" then
							if LoadConfig(selectedConfigName) then
								chloex("Config loaded: " .. selectedConfigName, 3, Color3.fromRGB(100, 255, 100))
								StatusParagraph:SetContent("Current: " .. selectedConfigName .. " | Autoload: " .. (GetAutoload() or "None"))
							end
						end
					end,
				})

				Items:AddButton({
					Title = "Delete Config",
					SubTitle = "Set Autoload",
					Callback = function()
						if selectedConfigName ~= "" then
							if DeleteConfig(selectedConfigName) then
								chloex("Config deleted: " .. selectedConfigName, 3, Color3.fromRGB(255, 100, 100))
								selectedConfigName = ""
								ConfigNameInput:Set("")
								ConfigDropdown:SetValues(GetConfigList())
								StatusParagraph:SetContent("Current: " .. (CurrentConfigName or "None") .. " | Autoload: " .. (GetAutoload() or "None"))
							end
						end
					end,
					SubCallback = function()
						if selectedConfigName ~= "" then
							SetAutoload(selectedConfigName)
							chloex("Autoload set to: " .. selectedConfigName, 3, Color3.fromRGB(100, 200, 255))
							StatusParagraph:SetContent("Current: " .. (CurrentConfigName or "None") .. " | Autoload: " .. selectedConfigName)
						end
					end,
				})

				Items:AddButton({
					Title = "Refresh List",
					SubTitle = "Clear Autoload",
					Callback = function()
						local newConfigs = GetConfigList()
						ConfigDropdown:SetValues(newConfigs)
						chloex("Refreshed (" .. #newConfigs .. " configs)", 2, Color3.fromRGB(150, 150, 255))
					end,
					SubCallback = function()
						ClearAutoload()
						chloex("Autoload cleared", 3, Color3.fromRGB(200, 200, 100))
						StatusParagraph:SetContent("Current: " .. (CurrentConfigName or "None") .. " | Autoload: None")
					end,
				})

				Items:AddButton({
					Title = "Reset All Elements",
					Callback = function()
						ResetElements()
						chloex("All elements reset", 3, Color3.fromRGB(255, 200, 100))
					end,
				})

				return {
					UpdateStatus = function()
						StatusParagraph:SetContent("Current: " .. (CurrentConfigName or "None") .. " | Autoload: " .. (GetAutoload() or "None"))
					end,
					RefreshList = function()
						ConfigDropdown:SetValues(GetConfigList())
					end,
				}
			end

			CountSection += 1
			return Items
		end

		CountTab += 1
		local safeName = TabConfig.Name:gsub("%s+", "_")
		_G[safeName] = Sections
		return Sections
	end

	return Tabs
end

return Chloex
